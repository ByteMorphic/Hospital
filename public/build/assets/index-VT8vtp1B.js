import{r as t,P as _,j as e,b as l,B as D}from"./app-CNYJ7z8k.js";import{D as u,a as p,b as w,c as i,A as W}from"./app-layout-DYGONzfp.js";import{C as r,E,P as k,T as B,a as I,b as O,c as A,d as M,S as P,e as T,D as K}from"./card-2rij_q3c.js";import{B as n}from"./button-GEcBaMlb.js";import{WardCreateDialog as q}from"./WardCreateDialog-BzUS8DoK.js";import{WardEditDialog as F}from"./WardEditDialog-BlP9xiyt.js";import{B as H}from"./badge-CyJo2u91.js";import{I as L}from"./input-BTaexmgx.js";import{e as g,f as j}from"./select-9DVlbF1K.js";/* empty css            */import"./index-Ch8GXOLE.js";import"./index-Cfkbo6Y5.js";import"./index-Dgs1VMEc.js";import"./app-logo-icon-3Z1d0wY6.js";import"./dialog-BVGhV4_N.js";import"./loader-circle-BbCg4P0x.js";import"./square-pen-vaKe6-8a.js";import"./index-CtTPoBcn.js";const R=[{title:"Wards",href:"/wards"}];function de({wards:d,filters:f}){const[N,c]=t.useState(!1),[b,o]=t.useState(!1),[m,C]=t.useState(null),[x,v]=t.useState(f.q||"");_();const h=(s,a)=>{l.put(route("wards.status"),{ward_id:s.id,status:a?"active":"block"})},y=s=>{s.preventDefault(),l.get(route("wards.index"),{q:x},{preserveState:!0})},S=t.useMemo(()=>[{id:"ward_name",accessorKey:"ward_name",header:({column:s})=>e.jsx(r,{column:s,title:"Name"}),cell:({row:s})=>{const a=s.original;return e.jsx("div",{className:"font-medium",children:a.ward_name})}},{id:"ward_description",accessorKey:"ward_description",enableSorting:!1,header:({column:s})=>e.jsx(r,{column:s,title:"Description"}),cell:({row:s})=>{const a=s.original;return e.jsx("div",{className:"text-sm text-gray-500 max-w-md","aria-label":"ward_description","aria-description":a.ward_description,children:a.ward_description.length>40?a.ward_description.slice(0,40)+"...":a.ward_description})}},{id:"ward_capacity",accessorKey:"ward_capacity",header:({column:s})=>e.jsx(r,{column:s,title:"Capacity"}),cell:({row:s})=>{const a=s.original;return e.jsx("div",{className:"text-center",children:e.jsx(H,{variant:"outline",className:"bg-blue-50 text-blue-700 hover:bg-blue-100",children:a.ward_capacity})})}},{id:"ward_status",accessorKey:"ward_status",header:({column:s})=>e.jsx(r,{column:s,title:"Status"}),cell:({row:s})=>{const a=s.original;return e.jsxs(u,{children:[e.jsx(p,{asChild:!0,children:e.jsx(n,{variant:"ghost",className:`flex items-center gap-2 ${a.ward_status?"text-green-600 hover:text-green-700":"text-red-600 hover:text-red-700"}`,children:a.ward_status?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"h-4 w-4"})," Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"h-4 w-4"})," Inactive"]})})}),e.jsxs(w,{align:"end",className:"w-32",children:[e.jsxs(i,{onClick:()=>h(a,!0),className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4 text-green-600"})," Active"]}),e.jsxs(i,{onClick:()=>h(a,!1),className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-red-600"})," Inactive"]})]})]})}},{id:"action",header:({column:s})=>e.jsx(r,{column:s,title:"Action"}),cell:({row:s})=>{const a=s.original;return e.jsxs(u,{children:[e.jsx(p,{asChild:!0,children:e.jsxs(n,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(E,{className:"h-4 w-4"})]})}),e.jsxs(w,{align:"end",className:"w-36",children:[e.jsxs(i,{onClick:()=>{C(a),o(!0)},className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-blue-600"})," Edit"]}),e.jsxs(i,{className:"flex items-center gap-2 text-red-600 hover:text-red-700 focus:text-red-700",onClick:()=>{confirm("Are you sure you want to delete this ward?")&&l.delete(route("wards.destroy",a.id),{preserveState:!0,onSuccess:()=>{console.log("deleted")}})},children:[e.jsx(B,{className:"h-4 w-4"})," Delete"]})]})]})}}],[]);return e.jsxs(W,{breadcrumbs:R,children:[e.jsx(D,{title:"Wards"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 p-6",children:e.jsxs(I,{className:"border-0 shadow-md",children:[e.jsx(O,{className:" text-white rounded-t-lg",children:e.jsx(A,{className:"text-xl font-medium",children:"Ward Management"})}),e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("form",{onSubmit:y,className:"relative w-full max-w-sm",children:[e.jsx(P,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-500"}),e.jsx(L,{placeholder:"Search wards...",value:x,onChange:s=>v(s.target.value),className:"pl-10 pr-4 py-2 focus:border-blue-500 focus:ring-blue-500 rounded-md"})]}),e.jsxs(n,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-sm flex items-center gap-2",onClick:()=>c(!0),children:[e.jsx(T,{className:"h-4 w-4"}),"Create New Ward"]})]}),e.jsx("div",{className:"rounded-lg overflow-hidden shadow-sm",children:e.jsx(K,{columns:S,data:d.data,pagination:d.meta})})]})]})}),e.jsx(q,{isOpen:N,onClose:()=>c(!1)}),m&&e.jsx(F,{isOpen:b,onClose:()=>o(!1),ward:m})]})}export{de as default};
